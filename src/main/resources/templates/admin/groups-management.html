<!DOCTYPE html>
<html layout:decorate="~{layout/main-layout}">
    <head>
        <title>Zarządzanie Kierunkami</title>
        <th:block layout:fragment="page-styles">
            <link rel="stylesheet" th:href="@{/css/admin/groups-management.css}" href="../../static/css/admin/groups-management.css">
        </th:block>
    </head>
    <body>

        <div layout:fragment="content">
            <div class="groups-management-wrapper">
                <div class="header-section">
                    <h2>Zarządzanie kierunkami studiów</h2>
                    <button class="btn-add" id="addGroupBtn">
                        Dodaj kierunek
                    </button>
                </div>

                <!-- sekcja filtrowania i statystyk -->
                <div class="filters-section">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Wyszukaj po nazwie kierunku">
                    <div class="filter-box">
                        <label for="yearFilter"><i class="fas fa-calendar"></i> Rok:</label>
                        <select id="yearFilter">
                            <option value="">Wszystkie</option>
                            <option value="I">I</option>
                            <option value="II">II</option>
                            <option value="III">III</option>
                            <option value="IV">IV</option>
                            <option value="V">V</option>
                        </select>
                    </div>

                    <div class="filter-box">
                        <label for="fieldFilter"><i class="fas fa-graduation-cap"></i> Kierunek:</label>
                        <select id="fieldFilter">
                            <option value="">Wszystkie</option>
                        </select>
                    </div>

                    <div class="filter-box">
                        <label for="modeFilter"><i class="fas fa-user-clock"></i> Tryb:</label>
                        <select id="modeFilter">
                            <option value="">Wszystkie</option>
                            <option value="stacjonarne">Stacjonarne</option>
                            <option value="niestacjonarne">Niestacjonarne</option>
                        </select>
                    </div>
                    
                    <div class="stats-box">
                        <span class="stat-label">Liczba kierunków:</span>
                        <span class="stat-value" id="groupsCount">0</span>
                    </div>
                    
                    <div class="sort-box">
                        <label for="sortSelect"><i class="fas fa-sort"></i> Sortuj:</label>
                        <select id="sortSelect">
                            <option value="id-asc" selected>ID (rosnąco)</option>
                            <option value="id-desc">ID (malejąco)</option>
                            <option value="name-asc">Nazwa (A-Z)</option>
                            <option value="name-desc">Nazwa (Z-A)</option>
                        </select>
                    </div>
                </div>

                <!-- lista kierunkow -->
                <div class="groups-list" id="groupsList">
                    <!-- wypelniane dynamicznie przez javascript -->
                </div>

                <!-- loading spinner -->
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Ładowanie...</p>
                </div>
            </div>

            <!-- modal dodawania/edycji -->
            <div class="modal" id="groupModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalTitle"><i class="fas fa-plus"></i> Dodaj kierunek</h3>
                        <button class="close-btn" id="closeModal">&times;</button>
                    </div>
                    <form id="groupForm">
                        <input type="hidden" id="groupId">
                        
                        <div class="form-group">
                            <label for="groupName"></i> Nazwa kierunku</label>
                            <input type="text" id="groupName" required placeholder="np. Informatyka III stacjonarne">
                            <small>Wprowadź nazwę kierunku studiów (np. Informatyka III stacjonarne, Zarządzanie II niestacjonarne)</small>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-cancel" id="cancelBtn">Anuluj</button>
                            <button type="submit" class="btn-save"><i class="fas fa-save"></i> Zapisz</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <th:block layout:fragment="page-scripts">
            <script th:src="@{/js/admin/groups-management.js}"></script>
        </th:block>

    </body>
</html>
