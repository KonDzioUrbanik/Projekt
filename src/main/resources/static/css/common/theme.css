/* PRZYCISK PRZEŁĄCZANIA MOTYWU */
.theme-toggle-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #005efa 0%, #0047d1 100%);
    color: white;
    border: none;
    box-shadow: 0 4px 12px rgba(0, 94, 250, 0.3);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    z-index: 1000;
    transition: all 0.3s ease;
}

.theme-toggle-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 94, 250, 0.4);
}

.theme-toggle-btn:active {
    transform: translateY(0) scale(0.98);
}

/* Domyślnie ukryj słońce, pokaż księżyc */
.theme-toggle-btn .fa-sun {
    display: none;
}

.theme-toggle-btn .fa-moon {
    display: inline-block;
}

/* Przełącznik motywu w nawigacji (strona główna) */
.nav-theme-toggle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: 2px solid var(--border, #e5e7eb);
    color: var(--text-main, #111827);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    transition: all 0.3s ease;
}

.nav-theme-toggle:hover {
    background: var(--primary-light, rgba(0, 94, 250, 0.08));
    border-color: var(--primary, #005efa);
    color: var(--primary, #005efa);
}

.nav-theme-toggle .fa-sun {
    display: none;
}

.nav-theme-toggle .fa-moon {
    display: inline-block;
}

/* CIEMNY MOTYW  */

[data-theme="dark"] {
    /* Zmienne z Style.css */
    --primary: #4a9eff;
    --primary-hover: #6bb3ff;
    --primary-light: rgba(74, 158, 255, 0.15);

    --bg-body: #0f1419;
    --bg-card: #1a1f26;
    --bg-glass: rgba(26, 31, 38, 0.9);

    --text-main: #e8eaed;
    --text-secondary: #9aa1ad;
    --text-muted: #6b7280;
    --text-white: #ffffff;

    --border: #2e3440;
    --border-focus: rgba(74, 158, 255, 0.4);
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);

    --error-bg: #3d1f1f;
    --error-text: #f87171;
    --error-border: #7f1d1d;
    --success-bg: #1a3d2e;
    --success-text: #34d399;
    --success-border: #065f46;

    /* Zmienne z Dashboard.css */
    --color-primary: #4a9eff;
    --color-primary-dark: #3b8ae8;
    --color-secondary: #1e2530;
    --success-color: #34d399;
    --danger-color: #f87171;

    --bg-main: #0f1419;
    --bg-step: #1e2530;
    --header-bg: #1a1f26;

    --text-dark: #e8eaed;
    --text-light: #9aa1ad;
    --text-placeholder: #6b7280;

    --border-color: #2e3440;

    --shadow-color-btn: rgba(74, 158, 255, 0.25);
    --navbar-left-btn: #1e2530;
    --navbar-left-btn-hover: #2a3441;
    --navbar-btn-hover: rgba(255, 255, 255, 0.08);

    /* Zmienne z Settings.css */
    --color-tertiary-text: #9aa1ad;
    --color-red: #f87171;
    --color-red-dark: #ef4444;
    --color-secondary-dark: #2a3441;
    --border-color-input: #3d4654;
    --shadow-color: rgba(0, 0, 0, 0.4);
    --navbar-left-bg: #1a1f26;

    /* Zmienne z Sidebar.css */
    --sidebar-width: 260px;
    --sidebar-width-collapsed: 70px;
    --transition-speed: 0.3s;
}

/* CIEMNY MOTYW */

/* Tło strony dla ciemnego motywu */
[data-theme="dark"] body {
    background-color: var(--bg-body);
    background-image: none;
    color: var(--text-main);
}

/* Karty i kontenery */
[data-theme="dark"] .auth-container,
[data-theme="dark"] .feature-card,
[data-theme="dark"] .dashboard-card,
[data-theme="dark"] .settings-card,
[data-theme="dark"] .profile-container {
    background: var(--bg-card);
    border-color: var(--border-color);
}

/* Karty funkcji - hover */
[data-theme="dark"] .feature-card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 12px 24px -4px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .feature-card {
    transition: all 0.25s ease;
}

[data-theme="dark"] .feature-icon {
    background-color: var(--bg-main);
    color: var(--text-light);
    transition: all 0.25s ease;
}

[data-theme="dark"] .feature-card:hover .feature-icon {
    background-color: var(--color-primary);
    color: white;
    box-shadow: 0 4px 12px rgba(74, 158, 255, 0.4);
}

/* Nagłówek */
[data-theme="dark"] .header {
    background-color: var(--header-bg);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .logo {
    color: var(--color-primary);
}

[data-theme="dark"] .logo-text {
    color: var(--text-dark);
}

/* Menu dropdown użytkownika */
[data-theme="dark"] .user-dropdown-menu {
    background-color: var(--bg-card);
    border-color: var(--border-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .user-dropdown-item {
    color: var(--text-dark);
}

[data-theme="dark"] .user-dropdown-item:hover {
    background-color: var(--color-secondary);
}

[data-theme="dark"] .user-dropdown-divider {
    background-color: var(--border-color);
}

/* Informacje o użytkowniku */
[data-theme="dark"] .user-info:hover {
    background-color: var(--navbar-btn-hover);
}

[data-theme="dark"] .user-name {
    color: var(--text-dark);
}

[data-theme="dark"] .user-role {
    color: var(--text-light);
}

/* Separator w nagłówku */
[data-theme="dark"] .header-divider {
    background-color: var(--border-color);
}

/* Przycisk powiadomień */
[data-theme="dark"] .notification-btn {
    color: var(--text-light);
}

[data-theme="dark"] .notification-btn:hover {
    background-color: var(--navbar-btn-hover);
    color: var(--text-dark);
}

/* Sidebar */
[data-theme="dark"] .navbar-left {
    background-color: #1a1f26;
}

[data-theme="dark"] .btn-navbar-left {
    background-color: transparent;
    color: rgba(255, 255, 255, 0.85);
}

[data-theme="dark"] .btn-navbar-left:hover {
    background-color: rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] .btn-navbar-left.active {
    background-color: rgba(255, 255, 255, 0.12);
    border-left-color: var(--color-primary);
}

/* Główna treść strony */
[data-theme="dark"] .navbar-middle {
    background-color: var(--bg-main);
}

[data-theme="dark"] .navbar-middle h1 {
    color: var(--text-dark);
}

[data-theme="dark"] .navbar-middle p {
    color: var(--text-light);
}

/* Baner powitalny - ciemne tło */
[data-theme="dark"] .welcome-banner {
    background: #1a2635;
}

/* Karty dashboardu */
[data-theme="dark"] .card-header {
    background: var(--bg-step);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .card-body {
    background-color: var(--bg-card);
}

/* Pola formularzy */
[data-theme="dark"] .form-control {
    background-color: var(--bg-card);
    border-color: var(--border-color-input);
    color: var(--text-dark);
}

[data-theme="dark"] .form-control::placeholder {
    color: var(--text-placeholder);
}

[data-theme="dark"] .form-control:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 4px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .form-control[readonly] {
    background-color: var(--bg-step);
}

/* Listy rozwijane (select) */
[data-theme="dark"] select.form-control {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239aa1ad' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
}

/* Przyciski */
[data-theme="dark"] .btn-primary {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
}

[data-theme="dark"] .btn-primary:hover {
    background-color: var(--color-primary-dark);
    border-color: var(--color-primary-dark);
}

[data-theme="dark"] .btn-secondary,
[data-theme="dark"] .btn-tertiary {
    background-color: var(--bg-step);
    color: var(--text-dark);
    border-color: var(--border-color);
}

[data-theme="dark"] .btn-secondary:hover,
[data-theme="dark"] .btn-tertiary:hover {
    background-color: var(--color-secondary-dark);
    border-color: var(--color-secondary-dark);
}

[data-theme="dark"] .btn-outline {
    background-color: transparent;
    color: var(--color-primary);
    border-color: var(--color-primary);
}

[data-theme="dark"] .btn-outline:hover {
    background-color: rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.08);
}

/* Linki */
[data-theme="dark"] .link-accent {
    color: var(--color-primary);
}

[data-theme="dark"] .forgot-password {
    color: var(--text-secondary);
}

[data-theme="dark"] .forgot-password:hover {
    color: var(--color-primary);
}

[data-theme="dark"] .back-link {
    color: var(--text-muted);
}

[data-theme="dark"] .back-link:hover {
    color: var(--text-dark);
}

/* Komunikaty formularzy */
[data-theme="dark"] .form-message.error {
    background: var(--error-bg);
    color: var(--error-text);
    border-color: var(--error-border);
}

[data-theme="dark"] .form-message.success {
    background: var(--success-bg);
    color: var(--success-text);
    border-color: var(--success-border);
}

/* Strona główna (landing page) */
[data-theme="dark"] .landing-nav {
    background-color: transparent;
}

[data-theme="dark"] .nav-logo {
    color: var(--text-main);
}

[data-theme="dark"] .nav-logo .logo-circle {
    background: var(--color-primary);
}

[data-theme="dark"] .nav-logo .logo-circle i {
    color: white;
}

[data-theme="dark"] .hero-title {
    background: none;
    -webkit-background-clip: unset;
    background-clip: unset;
    -webkit-text-fill-color: var(--text-main);
    color: var(--text-main);
}

[data-theme="dark"] .hero-badge {
    background-color: var(--primary-light);
    color: var(--color-primary);
}

[data-theme="dark"] .university-branding {
    background: #151a20;
}

[data-theme="dark"] .branding-content {
    background: var(--bg-card);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .branding-text {
    color: var(--text-secondary);
}

[data-theme="dark"] .branding-text strong {
    color: var(--text-main);
}

[data-theme="dark"] .landing-footer {
    border-top-color: var(--border-color);
    color: var(--text-muted);
}

/* Tytuły i nagłówki */
[data-theme="dark"] .page-title,
[data-theme="dark"] .page-title-large,
[data-theme="dark"] .main-title,
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .subtitle {
    color: var(--text-light);
}

/* Karty ustawień */
[data-theme="dark"] .settings-card .card-header {
    background: var(--bg-step);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .settings-card .card-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .settings-card .card-header h3 i {
    color: var(--color-primary);
}

[data-theme="dark"] .card-subtitle {
    color: var(--text-light);
}

/* Pola informacyjne */
[data-theme="dark"] .info-box {
    background: var(--bg-step);
    border-color: var(--color-primary);
}

[data-theme="dark"] .info-box p {
    color: var(--text-light);
}

[data-theme="dark"] .info-box-profile {
    background: rgba(74, 158, 255, 0.08);
    border-color: rgba(74, 158, 255, 0.3);
    border-left-color: var(--color-primary);
}

[data-theme="dark"] .info-box-profile strong {
    color: var(--color-primary);
}

[data-theme="dark"] .info-box-profile p {
    color: var(--text-secondary);
}

/* Etykiety i plakietki */
[data-theme="dark"] .form-group label {
    color: var(--text-dark);
}

[data-theme="dark"] .optional-badge,
[data-theme="dark"] .field-badge {
    background: var(--bg-step);
    color: var(--text-light);
}

/* Modal zgłaszania problemów - używamy bezpośrednich kolorów */
[data-theme="dark"] .feedback-modal-overlay {
    background: rgba(0, 0, 0, 0.7);
}

[data-theme="dark"] .feedback-modal {
    background: #1a1f26 !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .feedback-modal-header {
    border-bottom-color: #2d333b !important;
}

[data-theme="dark"] .feedback-modal-header h2 {
    color: #e8eaed !important;
}

[data-theme="dark"] .modal-close-btn {
    color: #9aa1ad;
}

[data-theme="dark"] .modal-close-btn:hover {
    color: #e8eaed;
}

[data-theme="dark"] .feedback-form-group label {
    color: #e8eaed !important;
}

[data-theme="dark"] .feedback-type-label {
    border-color: #2d333b !important;
    background: #1a1f26 !important;
    color: #e8eaed !important;
}

[data-theme="dark"] .feedback-type-label:hover {
    border-color: #9aa1ad !important;
}

[data-theme="dark"] .feedback-type-option input[type="radio"]:checked+.feedback-type-label {
    border-color: #4a9eff !important;
    background: rgba(74, 158, 255, 0.1) !important;
}

[data-theme="dark"] .feedback-input,
[data-theme="dark"] .feedback-textarea {
    background: #1a1f26 !important;
    border-color: #2d333b !important;
    color: #e8eaed !important;
}

[data-theme="dark"] .feedback-input:focus,
[data-theme="dark"] .feedback-textarea:focus {
    border-color: #4a9eff !important;
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .feedback-modal-footer {
    border-top-color: #2d333b !important;
}

[data-theme="dark"] .feedback-btn-cancel {
    background: #252b33 !important;
    color: #9aa1ad !important;
}

[data-theme="dark"] .feedback-btn-cancel:hover {
    background: #2d333b !important;
}

[data-theme="dark"] .char-counter {
    color: var(--text-muted);
}

/* Pływający przycisk pomocy */
[data-theme="dark"] .floating-help-btn {
    background: var(--color-primary);
    box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);
}

/* Sekcje treści strony głównej */
[data-theme="dark"] .left-section,
[data-theme="dark"] .right-section {
    background-color: var(--bg-card);
    box-shadow: 0 5px 8px rgba(0, 0, 0, 0.4);
}

/* Karty zajęć na stronie głównej */
[data-theme="dark"] .home-class-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .home-class-card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .home-class-title {
    color: var(--text-dark);
}

[data-theme="dark"] .home-class-teacher,
[data-theme="dark"] .home-class-room {
    color: var(--text-light);
}

/* Plan zajęć i kalendarz */
[data-theme="dark"] .schedule-card,
[data-theme="dark"] .calendar-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

/* Notatki */
[data-theme="dark"] .note-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .note-card:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* Strona profilu */
[data-theme="dark"] .avatar {
    border-color: var(--bg-main);
}

[data-theme="dark"] .avatar-upload-zone {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .avatar-upload-zone.dragover {
    border-color: var(--color-primary);
    background: rgba(74, 158, 255, 0.1);
}

[data-theme="dark"] .avatar-preview-container {
    background: var(--bg-step);
    border-color: var(--bg-card);
    outline-color: var(--border-color);
}

[data-theme="dark"] .avatar-placeholder {
    background: var(--color-primary);
}

[data-theme="dark"] .btn-upload {
    background: var(--bg-step);
    color: var(--text-dark);
}

[data-theme="dark"] .btn-upload:hover {
    background: var(--color-secondary-dark);
}

[data-theme="dark"] .btn-remove {
    background: var(--bg-card);
    border-color: var(--error-border);
    color: var(--error-text);
}

[data-theme="dark"] .btn-remove:hover {
    background: var(--error-bg);
}

/* Separatory sekcji */
[data-theme="dark"] .section-divider,
[data-theme="dark"] .section-separator,
[data-theme="dark"] .auth-link-home {
    border-top-color: var(--border-color);
}

/* Separator grupy przycisków */
[data-theme="dark"] .button-group {
    border-top-color: var(--border-color);
}

/* Sekcja admina */
[data-theme="dark"] .admin-section {
    border-top-color: rgba(255, 255, 255, 0.1);
}

/* Stany puste i błędy */
[data-theme="dark"] .empty-state-inline {
    color: var(--text-secondary);
}

[data-theme="dark"] .error-state-inline {
    color: var(--error-text);
}

/* Błąd sieci */
[data-theme="dark"] .network-error {
    color: var(--error-text);
}

/* Brak wyników */
[data-theme="dark"] .no-results {
    color: var(--text-secondary);
}

/* Statystyki na panelu admina */
[data-theme="dark"] .stat-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .admin-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .admin-card-header {
    background: var(--bg-step);
}

/* Przyciski szybkich akcji */
[data-theme="dark"] .quick-action-btn {
    background: var(--bg-step);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .quick-action-btn:hover {
    background: var(--color-secondary-dark);
    border-color: var(--color-primary);
}

/* Elementy aktywności */
[data-theme="dark"] .activity-item {
    border-bottom-color: var(--border-color);
}

/* Kontener numeru indeksu */
[data-theme="dark"] .user-index-container {
    background: var(--color-primary);
}

/* Podmiana ikon przełącznika w ciemnym motywie */
[data-theme="dark"] .theme-toggle-btn .fa-sun {
    display: inline-block;
}

[data-theme="dark"] .theme-toggle-btn .fa-moon {
    display: none;
}

[data-theme="dark"] .nav-theme-toggle .fa-sun {
    display: inline-block;
}

[data-theme="dark"] .nav-theme-toggle .fa-moon {
    display: none;
}

[data-theme="dark"] .theme-toggle-btn {
    background: #f59e0b;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
}

[data-theme="dark"] .theme-toggle-btn:hover {
    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
}

/* Responsywne dostosowania sidebaru w ciemnym motywie */
@media (max-width: 992px) {

    [data-theme="dark"] .navbar-left,
    [data-theme="dark"] .navbar-left.collapsed {
        background: var(--bg-card);
        border-bottom-color: var(--border-color);
    }

    [data-theme="dark"] .btn-navbar-left {
        background: var(--bg-step);
        color: var(--text-dark);
        border-color: var(--border-color);
    }

    [data-theme="dark"] .btn-navbar-left.active {
        background: var(--color-primary);
        color: white;
        border-color: var(--color-primary);
    }

    [data-theme="dark"] .btn-navbar-left:hover {
        background: var(--color-secondary-dark);
        border-color: var(--color-primary);
    }
}

/* MODUŁ NOTATEK - Ciemny motyw */

[data-theme="dark"] .notes-container {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .notes-sidebar {
    background: var(--bg-step);
    border-right-color: var(--border-color);
}

[data-theme="dark"] .notes-sidebar-header {
    background: var(--bg-step);
}

[data-theme="dark"] .notes-sidebar-title {
    color: var(--text-dark);
}

[data-theme="dark"] .search-wrapper input {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .search-wrapper input:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .search-wrapper i {
    color: var(--text-placeholder);
}

[data-theme="dark"] .notes-filters {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .filter-chip {
    border-color: var(--border-color);
    color: var(--text-secondary);
    background: transparent;
}

[data-theme="dark"] .filter-chip:hover {
    background: var(--bg-card);
    border-color: var(--text-secondary);
}

[data-theme="dark"] .filter-chip.active {
    background: var(--text-dark);
    color: var(--bg-body);
    border-color: var(--text-dark);
}

[data-theme="dark"] .note-card {
    background: var(--bg-card);
}

[data-theme="dark"] .note-card:hover {
    background: var(--bg-step);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .note-card.active {
    background: var(--bg-step);
    border-color: var(--color-primary);
}

[data-theme="dark"] .note-card h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .note-card p {
    color: var(--text-secondary);
}

[data-theme="dark"] .note-card-footer {
    color: var(--text-muted);
}

[data-theme="dark"] .notes-main {
    background: var(--bg-card);
}

[data-theme="dark"] .notes-empty-state {
    color: var(--text-secondary);
}

[data-theme="dark"] .empty-icon-bg {
    background: var(--bg-step);
}

[data-theme="dark"] .empty-icon-bg i {
    color: var(--text-muted);
}

[data-theme="dark"] .notes-empty-state h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .note-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .note-title-wrapper h1 {
    color: var(--text-dark);
}

[data-theme="dark"] .note-meta {
    color: var(--text-muted);
}

[data-theme="dark"] .badge-edited {
    background: var(--bg-step);
    color: var(--text-secondary);
}

[data-theme="dark"] .btn-icon {
    border-color: var(--border-color);
    background: var(--bg-card);
    color: var(--text-secondary);
}

[data-theme="dark"] .btn-icon:hover {
    border-color: var(--text-secondary);
    color: var(--text-dark);
}

[data-theme="dark"] .note-content-text {
    color: var(--text-dark);
}

[data-theme="dark"] .note-footer-info {
    border-top-color: var(--border-color);
    background: var(--bg-step);
    color: var(--text-muted);
}

[data-theme="dark"] .notes-list::-webkit-scrollbar-thumb,
[data-theme="dark"] .note-body::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-color: var(--bg-card);
}

/* Modal notatek */
[data-theme="dark"] .modal-overlay {
    background: rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .modal-card {
    background: var(--bg-card);
}

[data-theme="dark"] .modal-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .modal-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .btn-close {
    color: var(--text-muted);
}

[data-theme="dark"] .modal-footer {
    border-top-color: var(--border-color);
    background: var(--bg-step);
}

[data-theme="dark"] .form-input-title {
    color: var(--text-dark);
}

[data-theme="dark"] .form-input-title::placeholder {
    color: var(--text-muted);
}

[data-theme="dark"] .form-textarea {
    color: var(--text-dark);
}

[data-theme="dark"] .form-section-title {
    border-bottom-color: var(--border-color);
    background: var(--bg-card);
}

[data-theme="dark"] .btn-text-gray {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .btn-text-gray:hover {
    background: var(--bg-step);
}

[data-theme="dark"] .modal-icon-wrapper.danger {
    background: rgba(239, 68, 68, 0.15);
}

[data-theme="dark"] .modal-body-centered h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .modal-body-centered p {
    color: var(--text-secondary);
}

[data-theme="dark"] .modal-footer-centered {
    background: var(--bg-card);
}

[data-theme="dark"] .toast {
    background: var(--bg-card);
    color: var(--text-dark);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

/* MODUŁ PLANU ZAJĘĆ - Ciemny motyw */

[data-theme="dark"] .schedule-wrapper {
    background: var(--bg-card);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .schedule-grid {
    background: var(--border-color);
}

[data-theme="dark"] .time-header {
    background: #2a3441;
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .day-header {
    background: var(--color-primary);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .time-slot {
    background: var(--bg-step);
    color: var(--text-secondary);
    border-right-color: var(--border-color);
    border-top-color: var(--border-color);
}

[data-theme="dark"] .class-cell {
    background: var(--bg-card);
    border-top-color: var(--border-color);
    border-left-color: var(--border-color);
}

[data-theme="dark"] .class-cell:hover {
    background: var(--bg-step);
}

[data-theme="dark"] .class-cell.empty {
    background: rgba(30, 37, 48, 0.5);
}

[data-theme="dark"] .class-item {
    border-left-color: var(--border-color);
    border-top-color: var(--border-color);
}

[data-theme="dark"] .empty-schedule h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .empty-schedule p {
    color: var(--color-primary);
}

[data-theme="dark"] .loading p {
    color: var(--text-secondary);
}

[data-theme="dark"] .spinner {
    border-color: var(--border-color);
    border-top-color: var(--color-primary);
}

/* MODUŁ KALENDARZA - Ciemny motyw */

[data-theme="dark"] .calendar-wrapper {
    background: var(--bg-card);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .month-selector h2 {
    color: var(--text-dark);
}

[data-theme="dark"] .month-nav-btn,
[data-theme="dark"] .today-btn {
    background-color: var(--bg-step);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .month-nav-btn:hover,
[data-theme="dark"] .today-btn:hover {
    background-color: var(--color-secondary-dark);
    border-color: var(--color-primary);
}

[data-theme="dark"] .fc .fc-col-header-cell {
    background-color: var(--color-primary);
}

[data-theme="dark"] .fc-daygrid-day {
    border-color: var(--border-color);
    background: var(--bg-card);
}

[data-theme="dark"] .fc-daygrid-day-number {
    background-color: var(--bg-step);
    color: var(--text-dark);
}

[data-theme="dark"] .fc-day-other {
    background-color: var(--bg-step);
}

[data-theme="dark"] .fc-day-today {
    background-color: rgba(74, 158, 255, 0.15) !important;
}

[data-theme="dark"] .fc-day-today .fc-daygrid-day-number {
    background-color: var(--color-primary);
    color: white;
}

[data-theme="dark"] .fc-event {
    color: var(--text-dark) !important;
}

[data-theme="dark"] .fc-event-title-container {
    color: var(--text-dark);
}

[data-theme="dark"] .fc-theme-standard td,
[data-theme="dark"] .fc-theme-standard th {
    border-color: var(--border-color);
}

/* MODUŁ PROFILU - Ciemny motyw */

[data-theme="dark"] .profile-container .card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .profile-avatar {
    background: rgba(74, 158, 255, 0.15);
    color: var(--color-primary);
}

[data-theme="dark"] .profile-info h2 {
    color: var(--text-dark);
}

[data-theme="dark"] .role-badge {
    background: var(--bg-step);
    color: var(--text-secondary);
}

[data-theme="dark"] .email-text {
    color: var(--text-muted);
}

[data-theme="dark"] .stat-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .stat-card:hover {
    border-color: var(--color-primary);
}

[data-theme="dark"] .stat-card i {
    color: var(--color-primary);
}

[data-theme="dark"] .stat-value {
    color: var(--text-dark);
}

[data-theme="dark"] .stat-label {
    color: var(--text-muted);
}

[data-theme="dark"] .section-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .section-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .section-header h3 i {
    color: var(--color-primary);
}

[data-theme="dark"] .btn-outline {
    border-color: var(--border-color);
    background: var(--bg-card);
    color: var(--text-dark);
}

[data-theme="dark"] .btn-outline:hover {
    background: var(--bg-step);
    border-color: var(--text-secondary);
}

[data-theme="dark"] .note-mini-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .note-mini-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    border-color: var(--color-primary);
}

[data-theme="dark"] .note-mini-title {
    color: var(--text-dark);
}

[data-theme="dark"] .note-mini-content {
    color: var(--text-muted);
}

[data-theme="dark"] .note-mini-date {
    color: var(--text-muted);
}

[data-theme="dark"] .empty-state-small {
    color: var(--text-muted);
}

[data-theme="dark"] .skeleton-card {
    background: linear-gradient(90deg, var(--bg-step) 25%, var(--border-color) 50%, var(--bg-step) 75%);
}

/* KONTENER NUMERU INDEKSU (Numer albumu) */

.user-index-container {
    position: relative;
    cursor: default;
    padding: 4px 12px;
    background: rgba(0, 94, 250, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(0, 94, 250, 0.2);
}

.user-index-number {
    font-size: 0.8rem;
    font-weight: 600;
    color: #005efa;
}

.user-index-container:empty,
.user-index-container:has(.user-index-number:empty) {
    display: none !important;
}

/* Tooltip - umieszczony poniżej */
.user-index-container::after {
    content: 'Numer indeksu studenta';
    position: absolute;
    top: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    background: #ffffff;
    color: #1f2937;
    padding: 8px 14px;
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    pointer-events: none;
    border: 1px solid #e5e7eb;
}

/* Strzałka skierowana do góry */
.user-index-container::before {
    content: '';
    position: absolute;
    top: calc(100% + 2px);
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-bottom-color: #e5e7eb;
    /* Dopasowany kolor obramowania */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 1000;
    pointer-events: none;
}

.user-index-container:hover::after,
.user-index-container:hover::before {
    opacity: 1;
    visibility: visible;
}

[data-theme="dark"] .user-index-container {
    background: rgba(74, 158, 255, 0.15);
    border-color: rgba(74, 158, 255, 0.3);
}

[data-theme="dark"] .user-index-number {
    color: #4a9eff;
}

[data-theme="dark"] .user-index-container::after {
    background: #1a1f26 !important;
    color: #e8eaed !important;
    border: 1px solid #2d333b !important;
}

[data-theme="dark"] .user-index-container::before {
    border-bottom-color: #1a1f26 !important;
}

/*  MENU DROPDOWN UŽYTKOWNIKA - Ciemny motyw */

/* Style dropdown dla ciemnego motywu z bezpośrednimi kolorami */
[data-theme="dark"] .user-dropdown-menu {
    background: #1a1f26 !important;
    border: 1px solid #2d333b !important;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5), 0 8px 10px -6px rgba(0, 0, 0, 0.5) !important;
}

[data-theme="dark"] .user-dropdown-item {
    color: #e8eaed !important;
}

[data-theme="dark"] .user-dropdown-item:hover {
    background: #252b33 !important;
    color: #4a9eff !important;
}

[data-theme="dark"] .user-dropdown-item i {
    color: #9aa1ad !important;
}

[data-theme="dark"] .user-dropdown-item:hover i {
    color: #4a9eff !important;
}

[data-theme="dark"] .user-dropdown-divider {
    border-top-color: #2d333b !important;
}

/* Style specyficzne dla przełącznika motywu */
#themeToggleDropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
}

/* Zabezpieczenie: Ukryj ikony, które mogły pozostać z cache HTML */
#themeToggleDropdown i {
    display: none !important;
}

[data-theme="dark"] #themeToggleDropdown {
    color: #f59e0b !important;
    /* Pomarańczowy/Żółty dla przełącznika w ciemnym motywie */
}

[data-theme="dark"] #themeToggleDropdown:hover {
    background: rgba(245, 158, 11, 0.1) !important;
}

/* Płynne przejścia przy zmianie motywu */
html {
    transition: background-color 0.3s ease;
}

body,
.header,
.navbar-left,
.navbar-middle,
.dashboard-card,
.settings-card,
.auth-container,
.feature-card,
.form-control,
.btn,
.feedback-modal,
.notes-container,
.notes-sidebar,
.note-card,
.schedule-wrapper,
.calendar-wrapper,
.profile-container .card {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

/* STRONA PROFILU (Dashboard) - Ciemny motyw */

/* Nadpisanie zmiennych profile.css dla ciemnego motywu */
[data-theme="dark"] .profile-container {
    --primary: #4a9eff;
    --primary-light: rgba(74, 158, 255, 0.15);
    --text-main: #e8eaed;
    --text-muted: #9aa1ad;
    --bg-card: #1a1f26;
    --border: #2d333b;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

/* Kontener profilu - wersja dashboard używa klasy .card */
[data-theme="dark"] .profile-container .card {
    background: #1a1f26;
    border-color: #2d333b;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .profile-container .profile-header {
    background: var(--bg-card);
}

[data-theme="dark"] .profile-avatar {
    background: rgba(74, 158, 255, 0.15);
    color: var(--color-primary);
}

[data-theme="dark"] .profile-info h2 {
    color: var(--text-dark);
}

[data-theme="dark"] .role-badge {
    background: var(--bg-step);
    color: var(--text-secondary);
}

[data-theme="dark"] .email-text {
    color: var(--text-light);
}

/* Statystyki */
[data-theme="dark"] .stat-card {
    background: var(--bg-card);
    border-color: var(--border-color);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .stat-card:hover {
    border-color: var(--color-primary);
}

[data-theme="dark"] .stat-card i {
    color: var(--color-primary);
}

[data-theme="dark"] .stat-value {
    color: var(--text-dark);
}

[data-theme="dark"] .stat-label {
    color: var(--text-muted);
}

/* Nagłówki sekcji */
[data-theme="dark"] .profile-container .section-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .profile-container .section-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .profile-container .section-header h3 i {
    color: var(--color-primary);
}

/* Przyciski */
[data-theme="dark"] .profile-container .btn-outline {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .profile-container .btn-outline:hover {
    background: var(--bg-step);
    border-color: var(--color-primary);
}

[data-theme="dark"] .profile-container .btn-link {
    color: var(--color-primary);
}

/* Mini karty notatek */
[data-theme="dark"] .note-mini-card {
    background: var(--bg-step);
    border-color: var(--border-color);
}

[data-theme="dark"] .note-mini-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    border-color: var(--color-primary);
}

[data-theme="dark"] .note-mini-title {
    color: var(--text-dark);
}

[data-theme="dark"] .note-mini-content {
    color: var(--text-light);
}

[data-theme="dark"] .note-mini-date {
    color: var(--text-muted);
}

/* STRONA EDYCJI PROFILU - Ciemny motyw */

/* Główny kontener - strona ustawień jako standalone */
[data-theme="dark"] .main-container {
    background-color: var(--bg-body);
}

/* Kontener profilu - wersja ustawień */
[data-theme="dark"] .main-container .profile-container {
    background: var(--bg-card);
    border-color: var(--border-color);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Nagłówek profilu */
[data-theme="dark"] .main-container .profile-header {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .main-container .main-title {
    color: var(--text-dark);
}

[data-theme="dark"] .main-container .subtitle {
    color: var(--text-light);
}

/* Sekcja awatara */
[data-theme="dark"] .avatar-upload-zone {
    background: var(--bg-step);
    border-color: var(--border-color);
}

[data-theme="dark"] .avatar-upload-zone:hover,
[data-theme="dark"] .avatar-upload-zone.drag-over {
    border-color: var(--color-primary);
    background: rgba(74, 158, 255, 0.05);
}

[data-theme="dark"] .avatar-placeholder {
    background: var(--bg-card);
    color: var(--text-muted);
}

[data-theme="dark"] .btn-upload {
    background: var(--color-primary);
    color: white;
}

[data-theme="dark"] .btn-remove {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: #ef4444;
}

[data-theme="dark"] .upload-hint {
    color: var(--text-muted);
}

[data-theme="dark"] .upload-requirements {
    color: var(--text-muted);
}

/* Wskaźnik auto-zapisu */
[data-theme="dark"] .auto-save-indicator {
    background: rgba(34, 197, 94, 0.1);
    color: #4ade80;
}

/* Karty ustawień w main-container */
[data-theme="dark"] .main-container .settings-card {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .main-container .card-header {
    background: var(--bg-step);
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .main-container .card-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .main-container .card-header h3 i {
    color: var(--color-primary);
}

[data-theme="dark"] .main-container .card-subtitle {
    color: var(--text-light);
}

[data-theme="dark"] .main-container .card-body {
    background: var(--bg-card);
}

/* Elementy formularza */
[data-theme="dark"] .main-container .form-group label {
    color: var(--text-dark);
}

[data-theme="dark"] .main-container .form-control {
    background: var(--bg-step);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .main-container .form-control::placeholder {
    color: var(--text-placeholder);
}

[data-theme="dark"] .main-container .form-control:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 4px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .main-container .form-control[readonly] {
    background: var(--bg-body);
    color: var(--text-light);
}

[data-theme="dark"] .main-container .form-hint {
    color: var(--text-muted);
}

[data-theme="dark"] .main-container .lock-icon {
    color: var(--text-muted);
}

[data-theme="dark"] .main-container .edit-icon {
    color: var(--color-primary);
}

/* Plakietki */
[data-theme="dark"] .optional-badge,
[data-theme="dark"] .field-badge {
    background: var(--bg-step);
    color: var(--text-muted);
}

/* Pole informacyjne profilu */
[data-theme="dark"] .main-container .info-box-profile {
    background: rgba(74, 158, 255, 0.08);
    border-color: rgba(74, 158, 255, 0.3);
    border-left-color: var(--color-primary);
}

[data-theme="dark"] .main-container .info-box-profile p {
    color: var(--text-secondary);
}

[data-theme="dark"] .main-container .assigned-group {
    color: #4ade80;
}

[data-theme="dark"] .main-container .no-group {
    color: #f59e0b;
}

/* Separator sekcji */
[data-theme="dark"] .section-separator {
    background: var(--border-color);
}

/* Licznik znaków */
[data-theme="dark"] .character-counter {
    color: var(--text-muted);
}

/* Komunikat formularza */
[data-theme="dark"] .form-message {
    background: var(--bg-step);
}

/* Przyciski */
[data-theme="dark"] .main-container .btn-primary {
    background: var(--color-primary);
    color: white;
}

[data-theme="dark"] .main-container .btn-primary:hover {
    background: var(--color-primary-dark);
}

[data-theme="dark"] .main-container .btn-tertiary {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .main-container .btn-tertiary:hover {
    background: var(--bg-step);
}

/* Link powrót */
[data-theme="dark"] .back-link {
    color: var(--color-primary);
}

[data-theme="dark"] .back-link:hover {
    color: var(--color-primary-light);
}

/* Modal przycinania */
[data-theme="dark"] .crop-modal {
    background: rgba(0, 0, 0, 0.8);
}

[data-theme="dark"] .crop-modal-content {
    background: var(--bg-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .crop-modal-content h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .crop-controls p {
    color: var(--text-light);
}

[data-theme="dark"] .btn-secondary {
    background: var(--bg-step);
    border-color: var(--border-color);
    color: var(--text-dark);
}

/* PANEL ADMINISTRACYJNY */

/* Stat Card - ikony (środek ikony biały) */
[data-theme="dark"] .stat-card .stat-icon i {
    color: white !important;
}

[data-theme="dark"] .stat-label {
    color: var(--text-light);
}

[data-theme="dark"] .stat-value {
    color: var(--text-dark);
}

[data-theme="dark"] .stat-change {
    color: var(--text-muted);
}

/* ZARZĄDZANIE UŻYTKOWNIKAMI */

[data-theme="dark"] .users-table-wrapper {
    background: var(--bg-card);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .admin-header h1 {
    color: var(--text-dark);
}

[data-theme="dark"] .admin-header p {
    color: var(--text-light);
}

/* Breadcrumb */
[data-theme="dark"] .breadcrumb-item {
    color: var(--text-muted);
}

[data-theme="dark"] .breadcrumb-item.active {
    color: var(--text-dark);
}

[data-theme="dark"] .breadcrumb-separator {
    color: var(--border-color);
}

/* Sekcja filtrów */
[data-theme="dark"] .users-table-wrapper .filters-section,
[data-theme="dark"] .schedule-management-wrapper .filters-section,
[data-theme="dark"] .groups-management-wrapper .filters-section {
    background: var(--bg-step);
}

/* Pole wyszukiwania */
[data-theme="dark"] .search-box input {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .search-box input::placeholder {
    color: var(--text-placeholder);
}

[data-theme="dark"] .search-box input:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .search-box i {
    color: var(--text-muted);
}

/* Grupy filtrów */
[data-theme="dark"] .filter-group label,
[data-theme="dark"] .filter-box label,
[data-theme="dark"] .sort-box label {
    color: var(--text-dark);
}

[data-theme="dark"] .filter-group select,
[data-theme="dark"] .filter-box select,
[data-theme="dark"] .sort-box select {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .filter-group select:focus,
[data-theme="dark"] .filter-box select:focus,
[data-theme="dark"] .sort-box select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

/* Przycisk Reset */
[data-theme="dark"] .btn-reset {
    background: var(--bg-step);
    color: var(--text-dark);
    border: 1px solid var(--border-color);
}

[data-theme="dark"] .btn-reset:hover {
    background: var(--color-secondary-dark);
}

/* Info o wynikach */
[data-theme="dark"] .results-info {
    background: rgba(74, 158, 255, 0.1);
    border-color: rgba(74, 158, 255, 0.3);
    color: var(--color-primary);
}

/* Tabela użytkowników */
[data-theme="dark"] .users-table th {
    background-color: var(--color-primary);
}

[data-theme="dark"] .users-table td {
    border-bottom-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .users-table tr:hover {
    background-color: var(--bg-step);
}

/* Avatar użytkownika w tabeli */
[data-theme="dark"] .user-avatar-icon {
    background: var(--bg-step);
    color: var(--text-light);
}

/* Badge ról */
[data-theme="dark"] .badge-admin {
    background-color: rgba(239, 68, 68, 0.2);
    color: #f87171;
}

[data-theme="dark"] .badge-student {
    background-color: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
}

[data-theme="dark"] .badge-starosta {
    background-color: rgba(16, 185, 129, 0.2);
    color: #34d399;
}

/* Przyciski akcji w tabeli */
[data-theme="dark"] .action-btn.btn-edit {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
}

[data-theme="dark"] .action-btn.btn-edit:hover {
    background: rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .action-btn.btn-delete {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
}

[data-theme="dark"] .action-btn.btn-delete:hover {
    background: rgba(239, 68, 68, 0.3);
}

/* Empty state i no results */
[data-theme="dark"] .empty-state {
    color: var(--text-secondary);
}

[data-theme="dark"] .empty-state h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .empty-state i {
    color: var(--text-muted);
}

[data-theme="dark"] .no-results-message {
    color: var(--text-secondary);
}

[data-theme="dark"] .no-results-message i {
    color: var(--text-muted);
}

/* Modal edycji użytkownika */
[data-theme="dark"] .modal-content {
    background: var(--bg-card);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .modal-header {
    border-bottom-color: var(--border-color);
    background: var(--bg-step);
}

[data-theme="dark"] .modal-header h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .close-btn {
    color: var(--text-muted);
}

[data-theme="dark"] .close-btn:hover {
    color: var(--error-text);
}

[data-theme="dark"] .modal-body label {
    color: var(--text-dark);
}

[data-theme="dark"] .modal-footer {
    background: var(--bg-step);
    border-top-color: var(--border-color);
}

[data-theme="dark"] .user-summary {
    background: var(--bg-step);
}

[data-theme="dark"] .avatar-small {
    background: var(--bg-card);
    color: var(--text-light);
}

[data-theme="dark"] .hint-text {
    color: var(--text-muted);
}

[data-theme="dark"] .edit-user-email {
    color: var(--text-light);
}

/* ZARZĄDZANIE HARMONOGRAMEM */

[data-theme="dark"] .schedule-management-wrapper {
    background: var(--bg-card);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .header-section {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] .header-section h2 {
    color: var(--text-dark);
}

/* Tabela harmonogramu */
[data-theme="dark"] #scheduleTable {
    background: var(--bg-card);
}

[data-theme="dark"] #scheduleTable thead {
    background: var(--color-primary);
}

[data-theme="dark"] #scheduleTable tbody tr {
    border-bottom-color: var(--border-color);
}

[data-theme="dark"] #scheduleTable tbody tr:hover {
    background: var(--bg-step);
}

[data-theme="dark"] #scheduleTable td {
    color: var(--text-dark);
}

/* Badge dla dnia */
[data-theme="dark"] .day-badge {
    background: var(--bg-step);
    color: var(--text-dark);
}

/* Loading spinner */
[data-theme="dark"] .spinner {
    border-color: var(--border-color);
    border-top-color: var(--color-primary);
}

[data-theme="dark"] .loading p {
    color: var(--text-secondary);
}

/* Formularz w modalu */
[data-theme="dark"] .form-group input,
[data-theme="dark"] .form-group select {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .form-group input:focus,
[data-theme="dark"] .form-group select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

[data-theme="dark"] .form-group label {
    color: var(--text-dark);
}

[data-theme="dark"] .form-hint {
    color: var(--text-muted);
}

[data-theme="dark"] .form-actions {
    border-top-color: var(--border-color);
}

[data-theme="dark"] .btn-cancel {
    background: var(--bg-step);
    color: var(--text-dark);
}

[data-theme="dark"] .btn-cancel:hover {
    background: var(--color-secondary-dark);
}

/* ZARZĄDZANIE KIERUNKAMI */

[data-theme="dark"] .groups-management-wrapper {
    background: var(--bg-card);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Stats box */
[data-theme="dark"] .stats-box {
    background: var(--bg-step);
    border-color: var(--border-color);
}

[data-theme="dark"] .stats-box .stat-label {
    color: var(--text-muted);
}

[data-theme="dark"] .stats-box .stat-value {
    color: var(--color-primary);
}

/* Group cards */
[data-theme="dark"] .group-card {
    background: var(--bg-step);
    border-color: var(--border-color);
}

[data-theme="dark"] .group-card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .group-info h3,
[data-theme="dark"] .group-info h4 {
    color: var(--text-dark);
}

[data-theme="dark"] .group-id {
    color: var(--text-muted);
}

[data-theme="dark"] .group-info h4 mark {
    background: rgba(255, 235, 59, 0.3);
    color: var(--text-dark);
}

/* Empty state dla grup */
[data-theme="dark"] .groups-management-wrapper .empty-state {
    background: var(--bg-step);
}

[data-theme="dark"] .groups-management-wrapper .empty-state h3 {
    color: var(--text-dark);
}

[data-theme="dark"] .groups-management-wrapper .empty-state p {
    color: var(--text-secondary);
}

/* Formularz w modalu grup */
[data-theme="dark"] .groups-management-wrapper .form-group small {
    color: var(--text-muted);
}

/* PAGINACJA */
[data-theme="dark"] .pagination-controls {
    background: var(--bg-step);
}

[data-theme="dark"] .pagination-info {
    color: var(--text-dark);
}

[data-theme="dark"] .pagination-info span {
    color: var(--color-primary);
}

[data-theme="dark"] .pagination-btn {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .pagination-btn:hover:not(:disabled) {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
}

[data-theme="dark"] .pagination-btn:disabled {
    opacity: 0.4;
}

[data-theme="dark"] .pagination-size label {
    color: var(--text-dark);
}

[data-theme="dark"] .pagination-size select {
    background: var(--bg-card);
    border-color: var(--border-color);
    color: var(--text-dark);
}

[data-theme="dark"] .pagination-size select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
}

/* PRZYCISK EKSPORTU CSV */
[data-theme="dark"] .btn-export {
    background: #28a745;
    color: white;
}

[data-theme="dark"] .btn-export:hover {
    background: #218838;
    box-shadow: 0 2px 5px rgba(40, 167, 69, 0.4);
}

/* MODAL EKSPORTU CSV */
[data-theme="dark"] .export-section h4 {
    color: var(--text-dark);
}

[data-theme="dark"] .export-section h4 i {
    color: var(--color-primary);
}

[data-theme="dark"] .radio-option,
[data-theme="dark"] .checkbox-option {
    border-color: var(--border-color);
}

[data-theme="dark"] .radio-option:hover,
[data-theme="dark"] .checkbox-option:hover {
    background: var(--bg-step);
    border-color: var(--color-primary);
}

[data-theme="dark"] .radio-option span,
[data-theme="dark"] .checkbox-option span {
    color: var(--text-dark);
}

[data-theme="dark"] .select-all-row span {
    color: var(--text-muted);
}

[data-theme="dark"] .btn-link {
    color: var(--color-primary);
}

[data-theme="dark"] .btn-link:hover {
    color: var(--color-primary-light);
}

/* STATUS I ROK STUDIÓW NA LIŚCIE UŻYTKOWNIKÓW */
[data-theme="dark"] .status-dot {
    border-color: var(--bg-card);
}